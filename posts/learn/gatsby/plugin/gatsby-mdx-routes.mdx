---
icon : ğŸ“˜
title: "gatsby-mdx-routes"
date: "2022-02-14"
slug: gatsby/plugin/gatsby-mdx-routes
folder: learn
tags: [""]
---

# ğŸ“˜
# gatsby-mdx-routes

<div style="color:gray; font-style:italic;">2022/02/14 ì›”ìš”ì¼</div>

[https://www.gatsbyjs.com/plugins/@pauliescanlon/gatsby-mdx-routes/](https://www.gatsbyjs.com/plugins/@pauliescanlon/gatsby-mdx-routes/)

<h3 style="color:red;"> â€” ì˜¤ë˜ëœ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì‚¬ìš©ë¶ˆê°€ â€” </h3>

<br />

gatsby-mdx-routesì€ `src/pages`ì—ì„œ ì†Œì‹±ëœ `.mdx` íŒŒì¼ì— ëŒ€í•œ ë§í¬ë¥¼ ë…¸ì¶œí•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.

ì´ í”ŒëŸ¬ê·¸ì¸ì€ UIì—ì„œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ì¦‰, íƒìƒ‰ ìŠ¤íƒ€ì¼ì€ ì‚¬ìš©ìì—ê²Œ ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤.

<br />

## ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°

- [Live Demo](https://gatsby-mdx-routes.netlify.app/)

<br />

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì„¤ì¹˜

<div style="color:gray; font-size:12px;">Plain Text</div>

```
npm install @pauliescanlon/gatsby-mdx-routes
```

<br />


### ì„¤ì •

`src/page`ì—ì„œ `.mdx` íŒŒì¼ì„ ì†ŒìŠ¤í•˜ë ¤ë©´ `gatsby-source-filesystem`ê³¼ `gatsby-plugin-mdx`ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

ë‹¹ì‹ ì˜ `gatsby-config`ì€ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.

<br />

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
module.exports = {
  plugins: [
    {
      resolve: `gatsby-source-filesystem`,
      options: {
        name: `pages`,
        path: `${__dirname}/src/pages/`,
      },
    },
    {
      resolve: `gatsby-plugin-mdx`,
      options: {
        defaultLayouts: {
          default: `${__dirname}/src/layouts/layout.js`,
        },
      },
    },
  ],
}
```

<br />

ì„¤ì •ì´ ëª¨ë‘ ì™„ë£Œëœ ê²½ìš° `@pauliescanlon/gatsby-mdx-routes`ë¥¼ `gatsby-plugin-mdx` í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ğŸ˜…

<br />

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
module.exports = {
  {
    resolve: `gatsby-plugin-mdx`,
    options: {
      defaultLayouts: {
        default: `${__dirname}/src/layouts/layout.js`,
      },
      plugins: [`@pauliescanlon/gatsby-mdx-routes`],
    },
  },
}
```

`gatsby-plugin-mdx`ì˜ `defaultLayouts`ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ë°˜ë³µë˜ëŠ” í•˜ë‚˜ì˜ íŒŒì¼ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì—¬ê¸°ì— `MdxRoutes`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

<br />

## MdxRoutes

MdxRoutesëŠ” í‰ë©´ ë°°ì—´ì¸ *ê²½ë¡œ*(routes)ì™€ ì¬ê·€ì ìœ¼ë¡œ ìƒì„±ë˜ê³  `menu` ë°°ì—´ì„ í¬í•¨í•˜ëŠ” *ë©”ë‰´*ì¸ ë‘ ê°œì˜ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

<br />

ì•„ë§ˆë„ ë‘˜ ë‹¤ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.

<br />

### routes

`routes` ë°°ì—´ì€ ë‘ ê°œì˜ ê°ì²´ í‚¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. í•˜ë‚˜ëŠ” í•´ë‹¹ íŒŒì¼ì˜ ì‹¤ì œ ê²½ë¡œ(`slug`)ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” *frontmatter*ì˜ `navigationLabel`ì…ë‹ˆë‹¤.

| Key | ì„¤ëª… |
| --- | --- |
| slug | Â .mdx íŒŒì¼ë¡œ ë¼ìš°íŒ… |
| navigationLabel(íƒìƒ‰ ë ˆì´ë¸”) | frontmatterì—ì„œ ì¶”ì¶œí•œ navigationLabel |

<br />

### frontmatter

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
---
navigationLabel: Page Title
---
```

<div style="color:gray; font-size:11px;">src/pages/a-page.mdx</div>  

<br />

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
import React, { Fragment } from "react"
import { Link } from "gatsby"

import { MdxRoutes } from "@pauliescanlon/gatsby-mdx-routes"

export default ({ children }) => (
  <Fragment>
    <nav>
      <MdxRoutes>
        {(routes, _) => (
          <ul>
            {routes.map((route, index) => (
              <li key={index}>
                <Link to={route.slug}>{route.navigationLabel}</Link>
              </li>
            ))}
          </ul>
        )}
      </MdxRoutes>
    </nav>
    <main>{children}</main>
  </Fragment>
)
```

<div style="color:gray; font-size:11px;">src/layouts/layout.js</div>  

<br />

### menu

`menu` ë°°ì—´ì€ ìœ„ì— ì–¸ê¸‰ëœ ë‘ ê°œì˜ ê°œì²´ í‚¤ë¥¼ ë°˜í™˜í•˜ë©° ë‹¤ìŒë„ ë°˜í™˜í•©ë‹ˆë‹¤.

| Key | ì„¤ëª… |
| --- | --- |
| slug | Â .mdx íŒŒì¼ë¡œ ë¼ìš°íŒ… |
| navigationLabel | frontmatterì—ì„œ ì¶”ì¶œí•œ navigationLabel |
| id | ì¬ê·€ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” í‚¤ |
| parent | ìƒìœ„ í•­ëª©(ë¶€ëª¨)ì„ ê²°ì •í•˜ëŠ” ë¬¸ìì—´ |
| menu | ìƒìœ„ í•­ëª©(ë¶€ëª¨)ë³„ë¡œ ê·¸ë£¹í™”ëœ ê²½ë¡œ ë°°ì—´ |
| paths | ì¬ê·€ í•¨ìˆ˜ì— ì‚¬ìš©í•  ë‚´ë¶€ ë°°ì—´ |

ë©”ë‰´ ë°°ì—´ì€ ë””ìŠ¤í¬ì˜ íŒŒì¼ ê²½ë¡œë¥¼ ë³´ê³  íŒŒì¼ì´ ìˆëŠ” ê¹Šì´ë¥¼ ê²°ì •í•˜ì—¬ êµ¬ì„±ë©ë‹ˆë‹¤. ì´ ê°’ì€ `slug`ì˜ ì•ì˜ ìŠ¬ë˜ì‹œ ìˆ˜ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.

<br />

**ë©”ë‰´ ë°°ì—´ì„ ë§Œë“¤ë ¤ë©´** `MdxRoutes`**ê°€ í”„ë¡œì íŠ¸ì˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ë¯¸ëŸ¬ë§í•©ë‹ˆë‹¤.**

í”„ë¡œì íŠ¸

<br />

<div style="color:gray; font-size:12px;">Plain Text</div>

```
|-- src
    |-- pages
        |-- other-pages
           |-- some-other-page.mdx
        |-- sub-pages
            |-- sub-page-items
               |-- sub-page-items-again
                  |-- sub-page-item-again-1.mdx
               |-- sub-page-item-1.mdx
            |-- sub-page-1.mdx
        |-- about.mdx
        |-- contact.mdx
        |-- index.mdx
```

**ë©”ë‰´**Â ë°°ì—´ ì„ ì‚¬ìš©í•˜ë ¤ë©´Â íƒìƒ‰ ëª©ë¡ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì¬ê·€Â **íŠ¸ë¦¬**Â í•¨ìˆ˜ ë„ í•„ìš” í•©ë‹ˆë‹¤.

<br />

ì¡°ê±´ë¶€ `slug`ë¥¼ ì¡°ì‹¬í•˜ì„¸ìš” ê°ì²´ í‚¤ê°€ ë¶€ëª¨ì¸ì§€ ì•„ë‹ˆë©´ ì‹¤ì œ íŒŒì¼ ê²½ë¡œì¸ì§€ í™•ì¸í•˜ë ¤ë©´ ì´ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤.

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
import React, { Fragment } from "react"
import { Link } from "gatsby"

import { MdxRoutes } from "@pauliescanlon/gatsby-mdx-routes"

const Tree = ({ menus }) => {
  const createTree = menus => {
    return (
      <ul>
        {menus.map(route => (
          <li key={route.navigationLabel}>
            {route.slug ? (
              <Link to={route.slug}>
                {route.navigationLabel}
                {route.menu && createTree(route.menu)}
              </Link>
            ) : (
              <span>
                {route.navigationLabel}
                {route.menu && createTree(route.menu)}
              </span>
            )}
          </li>
        ))}
      </ul>
    )
  }

  return createTree(menus, null)
}

export default ({ children }) => (
  <Fragment>
    <nav>
      <MdxRoutes>{(_, menus) => <Tree menus={menus} />}</MdxRoutes>
    </nav>
    <main>{children}</main>
  </Fragment>
)
```

<div style="color:gray; font-size:11px;">src/layouts/layout.js</div> 

<br />

### props

| Prop | Type | Required | ì„¤ëª… |
| --- | --- | --- | --- |
| navigationOrder | Array[string] | no | ì •ë ¬ ê¸°ì¤€ ì°¸ì¡° ë°°ì—´ |

<br />

**navigationOrder**

ë¬¸ìì—´ ë°°ì—´ì„ ì „ë‹¬ í•˜ë©´  `MdxRoutes`ëŠ” ë°˜í™˜ëœ **ê²½ë¡œ**ë‚˜ **ë©”ë‰´** ë°°ì—´ì„ ì •ë ¬í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤Â . ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ëª¨ë“  ê²ƒì´ ìŠ¬ëŸ¬ê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì•ŒíŒŒë²³ìˆœìœ¼ë¡œ ë°˜í™˜ë˜ë©° ì¸ë±ìŠ¤("/")ì€ ëª©ë¡ì˜ ì²« ë²ˆì§¸ê°€ ë©ë‹ˆë‹¤.

<div style="color:gray; font-size:12px;">JavaScript</div>

```jsx
<MdxRoutes navigationOrder={["Contact", "About", "Home", "Sub Page"]}>
  {(routes, menus) => (
    <ul>
      {routes.map((route, index) => (
        <li key={index}>
          <Link to={route.slug}>{route.navigationLabel}</Link>
        </li>
      ))}
    </ul>
  )}
</MdxRoutes>
```
<br />

### âš¡ï¸

ì¬ê·€ë€?
